<section class="hud-panel w-full max-w-lg p-8 border-t-2 border-[#bc13fe]/50 animate-fade-in">
    <div class="flex items-center justify-between mb-8">
        <h2 class="text-lg font-bold text-white flex items-center gap-3">
            <span
                class="w-8 h-8 rounded bg-[#bc13fe]/20 flex items-center justify-center text-[#bc13fe] border border-[#bc13fe]/30">
                <i class="fa-solid fa-sliders text-sm"></i>
            </span>
            Verificar Datos
        </h2>
        <span class="text-[10px] font-mono text-slate-500 bg-white/5 px-2 py-1 rounded">PASO 2/3</span>
    </div>

    <div class="space-y-6">
        <!-- Titulo -->
        <div>
            <label class="text-[10px] text-slate-400 uppercase font-bold tracking-widest mb-2 block font-mono">Título
                del Juego</label>
            <div class="relative group">
                <input [(ngModel)]="formData.title" type="text"
                    class="w-full p-4 pl-11 rounded-xl bg-black/40 border border-white/10 text-white font-bold focus:border-[#bc13fe] focus:bg-black/60 focus:outline-none transition-all placeholder:text-slate-600">
                <i
                    class="fa-solid fa-gamepad absolute left-4 top-4.5 text-slate-500 group-focus-within:text-[#bc13fe] transition-colors"></i>
            </div>
        </div>

        <div class="grid grid-cols-2 gap-4">
            <!-- Plataforma -->
            <div>
                <label
                    class="text-[10px] text-slate-400 uppercase font-bold tracking-widest mb-2 block font-mono">Plataforma</label>
                <input [(ngModel)]="formData.platform" type="text"
                    class="w-full p-3 rounded-xl bg-black/40 border border-white/10 text-white text-sm font-semibold focus:border-[#bc13fe] focus:outline-none transition-all">
            </div>
            <!-- Condicion -->
            <div>
                <label
                    class="text-[10px] text-slate-400 uppercase font-bold tracking-widest mb-2 block font-mono">Condición</label>
                <div class="relative">
                    <select [(ngModel)]="formData.condition"
                        class="w-full p-3 rounded-xl bg-black/40 border border-white/10 text-white text-sm font-semibold focus:border-[#bc13fe] outline-none appearance-none cursor-pointer">
                        <option value="LOOSE">Solo Cartucho</option>
                        <option value="CIB">Completo (CIB)</option>
                        <option value="SEALED">Precintado / Nuevo</option>
                    </select>
                    <i
                        class="fa-solid fa-chevron-down absolute right-3 top-3.5 text-xs text-slate-500 pointer-events-none"></i>
                </div>
            </div>
        </div>

        <!-- Region Selector -->
        <div class="pt-4 border-t border-white/5">
            <label
                class="text-[10px] text-yellow-500 uppercase font-bold tracking-widest mb-3 block font-mono flex justify-between">
                Región / Edición
                <span class="text-[9px] font-normal normal-case opacity-70"><i
                        class="fa-solid fa-triangle-exclamation mr-1"></i>Vital para el precio</span>
            </label>
            <div class="grid grid-cols-2 gap-3">
                @for (region of regions; track region.code) {
                    <div (click)="formData.region = region.code" [class.ring-1]="formData.region === region.code"
                        [class.ring-[#bc13fe]]="formData.region === region.code"
                        [class.bg-[#bc13fe]/10]="formData.region === region.code"
                        class="cursor-pointer border border-white/10 p-3 rounded-xl hover:bg-white/5 hover:border-[#bc13fe]/30 transition-all relative overflow-hidden group">
                        <div class="flex items-center gap-3" [class.opacity-70]="formData.region !== region.code">
                            <span class="text-xl grayscale" [class.grayscale-0]="formData.region === region.code">{{
                                region.flag }}</span>
                            <div>
                                <span class="block font-bold text-slate-300 text-sm"
                                    [class.text-white]="formData.region === region.code">{{ region.label }}</span>
                                <span class="text-[10px] text-slate-500"
                                    [class.text-[#bc13fe]/80]="formData.region === region.code">{{ region.sub }}</span>
                            </div>
                        </div>
                        @if (formData.region === region.code) {
                            <i class="fa-solid fa-circle-check absolute right-2 top-2 text-[#bc13fe] text-xs"></i>
                        }
                    </div>
                }
            </div>
        </div>
    </div>

    <button (click)="onSubmit()" [disabled]="isLoading"
        class="w-full mt-8 py-4 rounded-xl bg-[#bc13fe] cursor-pointer hover:bg-[#a00add] text-white font-bold tracking-wider shadow-lg shadow-[#bc13fe]/20 transition-all disabled:opacity-50 flex justify-center items-center gap-3 group relative overflow-hidden">
        <span class="relative z-10 flex items-center gap-2">
            @if (isLoading) {
                <i class="fa-solid fa-circle-notch fa-spin"></i>
            }
            @if (!isLoading) {
                <span>CONFIRMAR Y TASAR</span>
            }
            @if (!isLoading) {
                <i class="fa-solid fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
            }
        </span>
        <div
            class="absolute inset-0 bg-linear-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:animate-[shimmer_1s_infinite]">
        </div>
    </button>
</section>