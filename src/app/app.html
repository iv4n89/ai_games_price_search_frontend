<app-particle-bg></app-particle-bg>

<div
  class="fixed inset-0 pointer-events-none -z-0 bg-[radial-gradient(circle_at_center,rgba(0,0,0,0)_50%,rgba(0,0,0,0.8)_100%)]"
></div>

<main
  class="min-h-screen flex flex-col items-center justify-center p-4 font-sans text-slate-200 relative overflow-hidden z-10"
>
  <header class="text-center mb-10 animate-fade-in relative z-20">
    <div class="inline-flex items-center justify-center mb-4 relative">
      <div
        class="absolute inset-0 bg-[#bc13fe] blur-2xl opacity-30 rounded-full transform scale-150"
      ></div>
      <i class="fa-solid fa-ghost text-5xl text-white relative z-10 drop-shadow-lg"></i>
    </div>

    <h1 class="text-4xl font-black text-white tracking-tight text-shadow-neon mb-3">
      RETRO<span class="text-[#bc13fe]">SCAN</span> AI
    </h1>

    <div class="flex justify-center items-center gap-3 opacity-60">
      <div class="h-[1px] w-8 bg-linear-to-r from-transparent to-white/50"></div>
      <p class="text-[10px] font-mono uppercase tracking-[0.3em] text-slate-300">
        Tasaci√≥n Inteligente
      </p>
      <div class="h-[1px] w-8 bg-linear-to-l from-transparent to-white/50"></div>
    </div>
  </header>

  @if (step === 'upload') {
  <app-upload (fileSelected)="onFileSelected($event)"></app-upload>
  } @if (step === 'scanning') {
  <app-scanning [message]="scanningMessage" [image]="previewImage"> </app-scanning>
  } @if (step === 'selection') {
  <app-selection [candidates]="candidates" (select)="selectCandidate($event)" (cancel)="reset()">
  </app-selection>
  } @if (step === 'verify') {
  <app-verify [formData]="formData" [isLoading]="isLoading" (submitForm)="submitForAppraisal()">
  </app-verify>
  } @if (step === 'calculating') {
  <app-calculating ></app-calculating>
  } @if (step === 'result' && resultData) {
  <app-result [result]="resultData" [requestData]="formData" (reset)="reset()"> </app-result>
  } @if (step === 'error' && errorMessage) {
  <app-error [message]="errorMessage" (retry)="reset()"> </app-error>
  }
</main>
